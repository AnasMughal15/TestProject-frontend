/* ── Page ─────────────────────────────────────────────────────────────────── */
.page {
  min-height: 100vh;
  background-color: var(--bg-page);
}

/* ── Header bar ───────────────────────────────────────────────────────────── */
.headerBar {
  border-bottom: 1px solid var(--border);
  background-color: var(--bg-surface);
  padding: 1.25rem 1.75rem;
}

.headerInner {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 1rem;
}

@media (min-width: 640px) {
  .headerInner {
    flex-direction: row;
    align-items: center;
  }
}

.headerTitle {
  font-size: 1.375rem;
  font-weight: var(--fw-bold);
  color: var(--txt-primary);
  letter-spacing: -0.025em;
}

.headerSubtitle {
  font-size: 0.75rem;
  color: var(--txt-dim);
  margin-top: 0.25rem;
}

.headerActions {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

/* ── Search ───────────────────────────────────────────────────────────────── */
.searchWrap {
  position: relative;
}

.searchIcon {
  position: absolute;
  left: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  width: var(--icon-sm);
  height: var(--icon-sm);
  color: var(--txt-dim);
}

.searchInput {
  padding-left: 2.25rem;
  height: 2.5rem;
  width: 16rem;
  font-size: 0.875rem;
  background-color: var(--bg-raised);
  border-color: var(--border-mid);
  color: var(--txt-primary);
}

.searchInput::placeholder {
  color: var(--txt-ghost);
}

.searchInput:focus-visible {
  outline: none;
  border-color: var(--gold);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--gold) 35%, transparent);
}

/* ── Create button ────────────────────────────────────────────────────────── */
.createBtn {
  height: 2.5rem;
  background-color: var(--gold);
  color: var(--txt-on-dark);
  font-weight: var(--fw-semibold);
  gap: 0.5rem;
  padding: 0 1rem;
  font-size: 0.875rem;
}

.createBtn:hover {
  background-color: var(--gold-h);
}

.btnIcon {
  width: var(--icon-sm);
  height: var(--icon-sm);
}

/* ── Body ─────────────────────────────────────────────────────────────────── */
.body {
  padding: 1.5rem 1.75rem;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

/* ── Stat cards ───────────────────────────────────────────────────────────── */
.statsRow {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
}

.statCard {
  display: flex;
  align-items: center;
  gap: 1rem;
  background-color: var(--bg-raised);
  border: 1px solid var(--border-mid);
  border-radius: 0.75rem;
  padding: 1rem 1.25rem;
  min-width: 150px;
}

/* Accent variants — set --accent on the card so children inherit it */
.statCard_gold   { composes: statCard; --accent: var(--gold);   }
.statCard_indigo { composes: statCard; --accent: var(--indigo); }
.statCard_green  { composes: statCard; --accent: var(--green);  }

.statIconWrap {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  background-color: color-mix(in srgb, var(--accent) 13%, transparent);
}

.statIcon {
  width: var(--icon-md);
  height: var(--icon-md);
  color: var(--accent);
}

.statLabel {
  font-size: 0.75rem;
  color: var(--txt-dim);
  line-height: 1;
}

.statValue {
  font-size: 1.25rem;
  font-weight: var(--fw-bold);
  color: var(--txt-primary);
  margin-top: 0.25rem;
  line-height: 1;
}

/* ── Table ────────────────────────────────────────────────────────────────── */
.tableWrap {
  border-radius: 0.75rem;
  border: 1px solid var(--border);
  overflow: hidden;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.3);
}

.thead {
  background-color: var(--bg-deep);
  border-color: var(--border);
}

.thead:hover {
  background-color: var(--bg-deep);
}

/* ── Table head cells ─────────────────────────────────────────────────────── */
.th {
  color: var(--txt-dim);
  font-weight: var(--fw-medium);
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding-top: 1rem;
  padding-bottom: 1rem;
}

.thNum     { composes: th; width: 3.5rem;  padding-left: 1.25rem; }
.thManager { composes: th; width: 150px; }
.thStatus  { composes: th; width: 110px;   text-align: center; }
.thDevs    { composes: th; width: 110px;   text-align: center; }
.thQa      { composes: th; width: 110px;   text-align: center; }
.thActions { composes: th; width: 60px;    padding-right: 1.25rem; }

/* ── Table rows ───────────────────────────────────────────────────────────── */
.row {
  border-color: var(--border);
  background-color: var(--bg-page);
  transition: background-color 150ms;
  cursor: pointer;
}

.row:hover {
  background-color: var(--bg-raised);
}

.td {
  padding-top: 1rem;
  padding-bottom: 1rem;
}

.tdRowNum {
  composes: td;
  padding-left: 1.25rem;
  color: var(--txt-ghost);
  font-size: 0.875rem;
  font-variant-numeric: tabular-nums;
  width: 3.5rem;
}

.tdCenter {
  composes: td;
  text-align: center;
}

.tdAction {
  composes: td;
  padding-right: 1.25rem;
  text-align: right;
}

/* ── Project name cell ────────────────────────────────────────────────────── */
.projectNameCell {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.projectIconWrap {
  width: 2rem;
  height: 2rem;
  border-radius: 0.5rem;
  background-color: color-mix(in srgb, var(--gold) 10%, transparent);
  border: 1px solid color-mix(in srgb, var(--gold) 20%, transparent);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.projectIcon {
  width: var(--icon-sm);
  height: var(--icon-sm);
  color: var(--gold);
}

.projectName {
  font-weight: var(--fw-medium);
  color: var(--txt-secondary);
  transition: color 150ms;
  cursor: pointer;
  font-size: 0.875rem;
}

/* Hover effect via CSS combinator — no need for Tailwind "group" */
.row:hover .projectName {
  color: var(--gold);
}

/* ── Manager cell ─────────────────────────────────────────────────────────── */
.managerCell {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.managerAvatar {
  width: 1.75rem;
  height: 1.75rem;
  border-radius: 50%;
  background-color: color-mix(in srgb, var(--indigo) 20%, transparent);
  border: 1px solid color-mix(in srgb, var(--indigo) 30%, transparent);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.managerIcon {
  width: var(--icon-sm);
  height: var(--icon-sm);
  color: var(--indigo);
}

.managerName {
  color: var(--txt-muted);
  font-size: 0.875rem;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 130px;
}

/* ── Description cell ─────────────────────────────────────────────────────── */
.description {
  color: var(--txt-dim);
  font-size: 0.875rem;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
}

.descriptionEmpty {
  color: var(--txt-ghost);
  font-style: italic;
}

/* ── Dev count badge ──────────────────────────────────────────────────────── */
.devBadgeActive {
  gap: 0.375rem;
  font-weight: var(--fw-medium);
  font-size: 0.75rem;
  color: var(--green);
  background-color: color-mix(in srgb, var(--green) 10%, transparent);
  border: 1px solid color-mix(in srgb, var(--green) 30%, transparent);
}

.devBadgeActive:hover {
  background-color: color-mix(in srgb, var(--green) 10%, transparent);
}

.devBadgeEmpty {
  gap: 0.375rem;
  font-weight: var(--fw-medium);
  font-size: 0.75rem;
  color: var(--txt-dim);
  background-color: var(--border-mid);
  border: 1px solid var(--border);
}

.devBadgeEmpty:hover {
  background-color: var(--border-mid);
}

.devIcon {
  width: var(--icon-xs);
  height: var(--icon-xs);
}

/* ── QA count badge ───────────────────────────────────────────────────────── */
.qaBadgeActive {
  gap: 0.375rem;
  font-weight: var(--fw-medium);
  font-size: 0.75rem;
  color: var(--purple);
  background-color: color-mix(in srgb, var(--purple) 10%, transparent);
  border: 1px solid color-mix(in srgb, var(--purple) 30%, transparent);
}

.qaBadgeActive:hover {
  background-color: color-mix(in srgb, var(--purple) 10%, transparent);
}

.qaBadgeEmpty {
  composes: devBadgeEmpty;
}

/* Clickable badge — cursor + subtle scale on hover */
.clickableBadge {
  cursor: pointer;
  transition: transform 120ms, opacity 120ms;
}

.clickableBadge:hover {
  opacity: 0.85;
  transform: scale(1.06);
}

/* ── Members modal ────────────────────────────────────────────────────────── */
.modalOverlay {
  position: fixed;
  inset: 0;
  background-color: rgb(0 0 0 / 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
  padding: 1rem;
}

.modalPanel {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-mid);
  border-radius: 0.75rem;
  width: 100%;
  max-width: 28rem;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.6);
}

.modalHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 1.5rem;
  border-bottom: 1px solid var(--border);
  flex-shrink: 0;
}

.modalTitleGroup {
  display: flex;
  align-items: center;
  gap: 0.625rem;
}

.modalTitleIcon {
  width: var(--icon-md);
  height: var(--icon-md);
}

.modalTitle {
  font-size: 1rem;
  font-weight: var(--fw-semibold);
  color: var(--txt-primary);
}

.modalSubtitle {
  font-size: 0.75rem;
  color: var(--txt-dim);
  margin-top: 0.125rem;
}

.modalCloseBtn {
  width: 2rem;
  height: 2rem;
  border-radius: 0.375rem;
  color: var(--txt-ghost);
  flex-shrink: 0;
}

.modalCloseBtn:hover {
  color: var(--txt-primary);
  background-color: var(--border-mid);
}

.modalBody {
  overflow-y: auto;
  padding: 0.75rem 1rem;
  flex: 1;
}

/* ── Member rows ──────────────────────────────────────────────────────────── */
.memberRow {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.625rem 0.5rem;
  border-radius: 0.5rem;
  transition: background-color 120ms;
}

.memberRow:hover {
  background-color: var(--bg-raised);
}

.memberAvatar {
  width: 2.25rem;
  height: 2.25rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-size: 0.875rem;
  font-weight: var(--fw-semibold);
  background-color: color-mix(in srgb, var(--avatar-color) 20%, transparent);
  border: 1px solid color-mix(in srgb, var(--avatar-color) 35%, transparent);
  color: var(--avatar-color);
}

.memberInfo {
  flex: 1;
  min-width: 0;
}

.memberName {
  font-size: 0.875rem;
  font-weight: var(--fw-medium);
  color: var(--txt-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.memberEmail {
  font-size: 0.75rem;
  color: var(--txt-dim);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  margin-top: 0.125rem;
}

.memberTypeBadge {
  font-size: 0.6875rem;
  font-weight: var(--fw-medium);
  padding: 0.125rem 0.5rem;
  border-radius: 9999px;
  flex-shrink: 0;
}

.memberTypeDev {
  composes: memberTypeBadge;
  color: var(--green);
  background-color: color-mix(in srgb, var(--green) 12%, transparent);
  border: 1px solid color-mix(in srgb, var(--green) 25%, transparent);
}

.memberTypeQa {
  composes: memberTypeBadge;
  color: var(--purple);
  background-color: color-mix(in srgb, var(--purple) 12%, transparent);
  border: 1px solid color-mix(in srgb, var(--purple) 25%, transparent);
}

.modalEmpty {
  padding: 3rem 0;
  text-align: center;
  color: var(--txt-dim);
  font-size: 0.875rem;
}

/* ── 3-dot menu ───────────────────────────────────────────────────────────── */
.menuTrigger {
  width: 2rem;
  height: 2rem;
  color: var(--txt-ghost);
  border-radius: 0.375rem;
}

.menuTrigger:hover {
  color: var(--txt-primary);
  background-color: var(--border-mid);
}

.menuContent {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-mid);
  box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.4);
  border-radius: 0.5rem;
  padding: 0.25rem;
  min-width: 140px;
}

.menuIcon {
  width: var(--icon-sm);
  height: var(--icon-sm);
}

/* Base menu item — composed into each variant */
.menuItem {
  display: flex;
  align-items: center;
  gap: 0.625rem;
  font-size: 0.875rem;
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  cursor: pointer;
  outline: none;
  color: var(--txt-muted);
}

.menuItemView   { composes: menuItem; }
.menuItemEdit   { composes: menuItem; }
.menuItemDelete { composes: menuItem; }

.menuItemView:hover,   .menuItemView:focus   { color: var(--gold);   background-color: color-mix(in srgb, var(--gold)   10%, transparent); }
.menuItemEdit:hover,   .menuItemEdit:focus   { color: var(--indigo); background-color: color-mix(in srgb, var(--indigo) 10%, transparent); }
.menuItemDelete:hover, .menuItemDelete:focus { color: var(--red-t);  background-color: color-mix(in srgb, var(--red)    10%, transparent); }

.menuSeparator {
  margin: 0.25rem 0;
  border-top: 1px solid var(--border);
}

/* ── Skeleton rows ────────────────────────────────────────────────────────── */
.skeletonRow {
  border-color: var(--border);
}

.skeletonRow:hover {
  background-color: transparent;
}

.skeletonCell {
  padding-top: 1.25rem;
  padding-bottom: 1.25rem;
}

@keyframes skeleton-pulse {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.5; }
}

.skeletonBar {
  height: 1rem;
  border-radius: 0.25rem;
  background-color: #333;
  animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Width per column: # | Project | Manager | Status | Devs | QA | Description | Actions */
.skeletonCell:nth-child(1) .skeletonBar { width: 40px;  }
.skeletonCell:nth-child(2) .skeletonBar { width: 150px; }
.skeletonCell:nth-child(3) .skeletonBar { width: 110px; }
.skeletonCell:nth-child(4) .skeletonBar { width: 70px;  }
.skeletonCell:nth-child(5) .skeletonBar { width: 65px;  }
.skeletonCell:nth-child(6) .skeletonBar { width: 55px;  }
.skeletonCell:nth-child(7) .skeletonBar { width: 180px; }
.skeletonCell:nth-child(8) .skeletonBar { width: 40px;  }

/* ── Empty state ──────────────────────────────────────────────────────────── */
.emptyRow {
  border-color: var(--border);
}

.emptyRow:hover {
  background-color: transparent;
}

.emptyCell {
  padding-top: 6rem;
  padding-bottom: 6rem;
  text-align: center;
}

.emptyInner {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.75rem;
}

.emptyIconWrap {
  width: 4rem;
  height: 4rem;
  border-radius: 50%;
  background-color: var(--bg-raised);
  display: flex;
  align-items: center;
  justify-content: center;
}

.emptyIcon {
  width: var(--icon-lg);
  height: var(--icon-lg);
  color: var(--txt-ghost);
}

.emptyText {
  color: var(--txt-dim);
  font-weight: var(--fw-medium);
}

.emptyHint {
  color: var(--txt-ghost);
  font-size: 0.875rem;
  margin-top: 0.25rem;
}

/* ── Pagination ───────────────────────────────────────────────────────────── */
.paginationBar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-top: 0.25rem;
}

.paginationInfo {
  font-size: 0.75rem;
  color: var(--txt-ghost);
}

.paginationBtns {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.pageBtn {
  width: 2rem;
  height: 2rem;
  font-size: 0.75rem;
  border-radius: 0.375rem;
  font-weight: var(--fw-medium);
  color: var(--txt-dim);
}

.pageBtn:hover {
  color: var(--txt-primary);
  background-color: var(--border);
}

.pageBtnActive {
  width: 2rem;
  height: 2rem;
  font-size: 0.75rem;
  border-radius: 0.375rem;
  font-weight: var(--fw-medium);
  background-color: var(--gold);
  color: var(--txt-on-dark);
}

.pageBtnActive:hover {
  background-color: var(--gold-h);
}

.pageBtnNav {
  width: 2rem;
  height: 2rem;
  border-radius: 0.375rem;
  color: var(--txt-dim);
}

.pageBtnNav:hover {
  color: var(--txt-primary);
  background-color: var(--border);
}

.pageBtnNav:disabled {
  opacity: 0.25;
}

.navIcon {
  width: var(--icon-sm);
  height: var(--icon-sm);
}

/* ── Status badge ─────────────────────────────────────────────────────────── */
.statusBadge {
  display: inline-flex;
  align-items: center;
  font-size: 0.6875rem;
  font-weight: var(--fw-medium);
  padding: 0.2rem 0.625rem;
  border-radius: 9999px;
  white-space: nowrap;
  background-color: color-mix(in srgb, var(--s-color) 12%, transparent);
  border: 1px solid color-mix(in srgb, var(--s-color) 28%, transparent);
  color: var(--s-color);
}

.statusActive    { composes: statusBadge; --s-color: var(--green);   }
.statusInactive  { composes: statusBadge; --s-color: var(--txt-dim); }
.statusOnhold    { composes: statusBadge; --s-color: var(--gold);    }
.statusCompleted { composes: statusBadge; --s-color: var(--indigo);  }

/* ── Status dropdown trigger (manager-only interactive badge) ─────────────── */
.statusDropdownTrigger {
  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;
  font: inherit;
  gap: 0.3rem;
  transition: opacity 120ms;
}

.statusDropdownTrigger:hover {
  opacity: 0.8;
}

.statusChevron {
  width: 0.625rem;
  height: 0.625rem;
  flex-shrink: 0;
}

/* ── Filter button ────────────────────────────────────────────────────────── */
.filterWrap {
  position: relative;
}

.filterBtn {
  height: 2.5rem;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0 0.875rem;
  font-size: 0.875rem;
  font-weight: var(--fw-medium);
  color: var(--txt-muted);
  border: 1px solid var(--border-mid);
  border-radius: 0.375rem;
  background-color: transparent;
  cursor: pointer;
  transition: color 120ms, background-color 120ms;
}

.filterBtn:hover {
  color: var(--txt-primary);
  background-color: var(--bg-raised);
}

.filterBtnActive {
  composes: filterBtn;
  border-color: var(--gold);
  color: var(--gold);
}

.filterBtnActive:hover {
  color: var(--gold-h);
  background-color: color-mix(in srgb, var(--gold) 8%, transparent);
}

.filterBtnIcon {
  width: var(--icon-sm);
  height: var(--icon-sm);
}

.filterBadge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 1.125rem;
  height: 1.125rem;
  border-radius: 9999px;
  background-color: var(--gold);
  color: var(--txt-on-dark);
  font-size: 0.625rem;
  font-weight: var(--fw-bold);
  padding: 0 0.25rem;
}

/* ── Filter panel (first level) ───────────────────────────────────────────── */
.filterPanel {
  position: absolute;
  top: calc(100% + 0.375rem);
  right: 0;
  background-color: var(--bg-surface);
  border: 1px solid var(--border-mid);
  border-radius: 0.5rem;
  padding: 0.25rem;
  min-width: 160px;
  z-index: 40;
  box-shadow: 0 12px 30px rgb(0 0 0 / 0.45);
}

/* ── Filter category row (e.g. "Status") ──────────────────────────────────── */
.filterCategoryWrap {
  position: relative;
}

.filterCategoryRow {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  cursor: pointer;
  color: var(--txt-muted);
  font-size: 0.875rem;
  user-select: none;
  transition: color 120ms, background-color 120ms;
}

.filterCategoryRow:hover {
  background-color: var(--bg-raised);
  color: var(--txt-primary);
}

.filterCategoryLabel {
  flex: 1;
}

.filterCategoryCount {
  font-size: 0.6875rem;
  font-weight: var(--fw-semibold);
  color: var(--gold);
}

.filterArrow {
  width: var(--icon-xs);
  height: var(--icon-xs);
  opacity: 0.5;
  flex-shrink: 0;
}

/* ── Status sub-panel (appears to the left) ───────────────────────────────── */
.filterSubPanel {
  position: absolute;
  top: 0;
  right: calc(100% + 0.375rem);
  background-color: var(--bg-surface);
  border: 1px solid var(--border-mid);
  border-radius: 0.5rem;
  padding: 0.375rem;
  min-width: 190px;
  z-index: 41;
  box-shadow: 0 12px 30px rgb(0 0 0 / 0.45);
}

.filterSubTitle {
  font-size: 0.6875rem;
  font-weight: var(--fw-semibold);
  color: var(--txt-ghost);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  padding: 0.375rem 0.625rem 0.25rem;
}

.filterDivider {
  margin: 0.25rem 0;
  border-top: 1px solid var(--border);
}

/* ── Checkbox rows inside sub-panel ───────────────────────────────────────── */
.filterCheckRow {
  display: flex;
  align-items: center;
  gap: 0.625rem;
  padding: 0.45rem 0.625rem;
  border-radius: 0.375rem;
  cursor: pointer;
  color: var(--txt-muted);
  font-size: 0.875rem;
  user-select: none;
  transition: color 120ms, background-color 120ms;
}

.filterCheckRow:hover {
  background-color: var(--bg-raised);
  color: var(--txt-primary);
}

.filterCheckbox {
  width: 1rem;
  height: 1rem;
  accent-color: var(--gold);
  cursor: pointer;
  flex-shrink: 0;
}
